---
layout: post
title: Oct 26, 2025
date: 2025-10-26 23:33 +0100
categories: [ğŸ—“ï¸ TIL - Today I Learned]
tags: [til]
---

# TIL

## [Algorithm] ì´ì§„ íŠ¸ë¦¬ `isSubtree` íŒë³„ (LeetCode 572)

### 1\. ë¬¸ì œ ì •ì˜

`root` íŠ¸ë¦¬ì— `subRoot`ì™€ **ì™„ë²½íˆ ë™ì¼í•œ** (êµ¬ì¡°ì™€ ê°’ ëª¨ë‘) ì„œë¸ŒíŠ¸ë¦¬ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë¬¸ì œ.

### 2\. í•µì‹¬ ë¡œì§: 2-Step ì¬ê·€

ì´ ë¬¸ì œëŠ” ë‘ ê°€ì§€ ë‹¤ë¥¸ ì¬ê·€ í•¨ìˆ˜ê°€ í•„ìš”í•˜ë‹¤.

#### A. `isSameTree` (íŠ¸ë¦¬ ë™ì¼ì„± ê²€ì‚¬)

ë‘ íŠ¸ë¦¬ê°€ ë£¨íŠ¸ë¶€í„° ì‹œì‘í•´ì„œ *ì™„ì „íˆ* ë˜‘ê°™ì´ ìƒê²¼ëŠ”ì§€ í™•ì¸í•˜ëŠ” í—¬í¼ í•¨ìˆ˜.

  * **Base Case 1:** ë‘ ë…¸ë“œ `p`, `q`ê°€ ëª¨ë‘ `null`ì´ë©´ -\> `true` (êµ¬ì¡° ì¼ì¹˜)
  * **Base Case 2:** `p`ë‚˜ `q` ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ `null`ì´ê±°ë‚˜, `p.val != q.val`ì´ë©´ -\> `false` (ë¶ˆì¼ì¹˜)
  * **Recursive Step:** `isSameTree(p.left, q.left)` **AND** `isSameTree(p.right, q.right)`
      * (ì™¼ìª½ ìì‹ **ê·¸ë¦¬ê³ ** ì˜¤ë¥¸ìª½ ìì‹ ëª¨ë‘ ë™ì¼í•´ì•¼ í•¨)

<!-- end list -->

```java
public boolean isSameTree(TreeNode p, TreeNode q) {
    if (p == null && q == null) return true;
    if (p == null || q == null || p.val != q.val) return false;
    
    return isSameTree(p.left, q.left) && isSameTree(p.right, q.right);
}
```

#### B. `isSubtree` (ì„œë¸ŒíŠ¸ë¦¬ íƒìƒ‰)

`root` íŠ¸ë¦¬ì˜ *ëª¨ë“  ë…¸ë“œ*ë¥¼ ìˆœíšŒí•˜ë©° "ì´ ë…¸ë“œì—ì„œ ì‹œì‘í•˜ëŠ” íŠ¸ë¦¬ê°€ `subRoot`ì™€ ë™ì¼í•œê°€?"ë¥¼ ë¬»ëŠ” í•¨ìˆ˜.

  * **Base Case 1:** `subRoot`ê°€ `null`ì´ë©´ -\> `true` (ë¹ˆ íŠ¸ë¦¬ëŠ” í•­ìƒ ì„œë¸ŒíŠ¸ë¦¬)
  * **Base Case 2:** `root`ê°€ `null`ì´ë©´ (`subRoot`ëŠ” nullì´ ì•„ë‹˜) -\> `false` (ì°¾ì„ ê³³ì´ ì—†ìŒ)
  * **Recursive Step:** 3ê°€ì§€ ì¡°ê±´ ì¤‘ **í•˜ë‚˜ë¼ë„** ë§Œì¡±í•˜ë©´ `true` (OR ì—°ì‚°)
    1.  `isSameTree(root, subRoot)` : í˜„ì¬ `root`ì—ì„œ ì‹œì‘í•˜ëŠ” íŠ¸ë¦¬ê°€ `subRoot`ì™€ ë™ì¼í•œê°€?
    2.  `isSubtree(root.left, subRoot)` : **ë˜ëŠ”** `subRoot`ê°€ ì™¼ìª½ ì„œë¸ŒíŠ¸ë¦¬ ì•ˆì— ìˆëŠ”ê°€?
    3.  `isSubtree(root.right, subRoot)` : **ë˜ëŠ”** `subRoot`ê°€ ì˜¤ë¥¸ìª½ ì„œë¸ŒíŠ¸ë¦¬ ì•ˆì— ìˆëŠ”ê°€?

<!-- end list -->

```java
public boolean isSubtree(TreeNode root, TreeNode subRoot) {
    if (subRoot == null) return true;
    if (root == null) return false;
    
    return isSameTree(root, subRoot) || 
           isSubtree(root.left, subRoot) || 
           isSubtree(root.right, subRoot);
}
```

-----

### 3\. ë‚´ê°€ ê²ªì€ í•¨ì • (The "Aha\!" Moment) ğŸ’¡

ë‚˜ëŠ” ì²˜ìŒì— `isSubtree`ë¥¼ ì´ë ‡ê²Œ ì˜ëª» ì‘ì„±í–ˆì—ˆë‹¤.

```java
// âŒ ì˜ëª»ëœ ì½”ë“œ (Premature Return)
public boolean isSubtree(TreeNode root, TreeNode subRoot) {
    if (subRoot == null) return true;
    if (root == null) return false;

    if (root.val == subRoot.val) {
        // â˜…â˜…â˜… ì—¬ê¸°ê°€ ë¬¸ì œ! â˜…â˜…â˜…
        // isSameTreeê°€ falseë¥¼ ë°˜í™˜í•˜ë©´,
        // isSubtree(root.left, ...)ë¥¼ íƒìƒ‰í•  ê¸°íšŒë„ ì—†ì´
        // í•¨ìˆ˜ ì „ì²´ê°€ ì¦‰ì‹œ falseë¥¼ ë°˜í™˜í•˜ê³  ëë‚˜ë²„ë¦¼!
        return isSameTree(root, subRoot); 
    }

    return isSubtree(root.left, subRoot) || isSubtree(root.right, subRoot);
}
```

#### ğŸ’£ ì´ ì½”ë“œê°€ ì‹¤íŒ¨í•œ ê²°ì •ì  ì¼€ì´ìŠ¤

  * `root = [1, 1]`
  * `subRoot = [1]`

<!-- end list -->

1.  `isSubtree(root, subRoot)` í˜¸ì¶œ. `root.val(1)`ê³¼ `subRoot.val(1)`ì´ ê°™ìŒ.
2.  `if` ë¬¸ì— ì§„ì…í•˜ì—¬ `isSameTree(root, subRoot)` í˜¸ì¶œ.
3.  `isSameTree([1, 1], [1])`ì€ êµ¬ì¡°ê°€ ë‹¤ë¥´ë¯€ë¡œ `false` ë°˜í™˜.
4.  `isSubtree` í•¨ìˆ˜ê°€ ì´ `false`ë¥¼ **ì¦‰ì‹œ `return`** í•´ë²„ë¦¼. **(ì‹¤íŒ¨)**
5.  **(ì •ë‹µ ë¡œì§)** `root.left` (ìì‹ì´ ì—†ëŠ” `[1]`)ë¥¼ íƒìƒ‰í–ˆì–´ì•¼ í•¨\! `isSubtree(root.left, subRoot)`ëŠ” `true`ì˜€ì„ ê²ƒì´ë‹¤.

### 4\. ì˜¤ëŠ˜ì˜ êµí›ˆ

  * `isSubtree` ë¬¸ì œëŠ” "íƒìƒ‰"ê³¼ "ë¹„êµ"ë¼ëŠ” ë‘ ê°€ì§€ ë‹¤ë¥¸ ì‘ì—…ì„ ìš”êµ¬í•œë‹¤.
  * "ê°’ì´ ê°™ë‹¤"ëŠ” ê²ƒì€ "íƒìƒ‰ì„ ì‹œì‘í•  í›„ë³´"ì¼ ë¿ì´ì§€, "ìœ ì¼í•œ ì •ë‹µ í›„ë³´"ê°€ ì•„ë‹ˆë‹¤.
  * **`isSameTree(root, sub)`ê°€ `false`ë¼ê³  í•´ì„œ, `isSubtree(root.left, sub)`ì˜ ê°€ëŠ¥ì„±ê¹Œì§€ í¬ê¸°í•˜ë©´ ì•ˆ ëœë‹¤.**
  * ì¬ê·€ í•¨ìˆ˜ë¥¼ ì§¤ ë•ŒëŠ” `OR`ë¡œ ì—°ê²°í•´ì•¼ í•  ì¡°ê±´ê³¼ `AND`ë¡œ ì—°ê²°í•´ì•¼ í•  ì¡°ê±´ì„ ëª…í™•íˆ êµ¬ë¶„í•˜ì.
      * `isSameTree`: `left` **AND** `right`
      * `isSubtree`: `current` **OR** `left` **OR** `right`